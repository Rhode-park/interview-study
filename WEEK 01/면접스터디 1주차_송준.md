## App Thining

애플리케이션이 디바이스에 설치될 때, 앱스토어와 운영체제가 디바이스의 특성에 맞게 설치되도록 하는 설치 최적화 기술이다. 

최소한의 디스크 사용과 빠른 다운로드를 제공하며, App thining은 `슬라이싱`, `비트코드`, `주문형 리소스` 이렇게 세가지가 있다.



- 슬라이싱 

  - 앱이 지원하는 여러 디바이스에 대해 각각의 조각 애플리케이션 번들을 생성하고, 해당 디바이스에 가장 적합한 조각을 전달하는 기술이다. 
  - 개발자가 App Store에 App을 업르도하면, 앱스토어에서 디바이스 특성에 따라 다양한 버전의 조각들을 생성한다.
  - 사용자는 그 조각들 중에서 가장 적합한 조각을 다운로드 받는다.

  

- 비트코드

  - 비트코드는 컴파일된 프로그램의 중간표현이다.
  - 비트코드가 포함된 앱스토어커넥트에 업로드한 앱은 앱스토어에서 컴파일 및 연결이 된다.
  - 비트코드를 포함하면 앱의 새 버전을 앱스토어에 제출할 필요 없이 향후 앱 바이너리를 최적화할 수 있다.
  - iOS앱은 비트코드가 default이며 optional이라고 한다.
  - watchOS, tvOS의 앱들은 비트코드가 필요하다.

  :fire: Bitcode를 사용하면, 최신 컴파일러용으로 자동으로 앱을 컴파일하고, 

  특정 아키텍쳐(예 : iPhone 6 및 iPad Air 2와 같은 64 비트 프로세서의 경우 arm64)에 맞게 최적화한다.

  

**Bitcode는 다른 아키텍쳐에 대한 최적화를 "제거"하여 다운로드는 더 작게 만듬**



- ODR(On-Demand Resource)주문형 리소스
  - 이미지나 사운드 같은 리소스를 키워드로 태그할 수 있고, 태그별로 그룹을 요청할 수 있다. 
  - 주문형 리소스는 앱스토어에 IPA와 별도로 저장된다. 
  - 앱스토어는 Apple 서버의 리소스를 호스팅하고, 다운로드를 관리하며, 주문형 리소스를 분할시켜 앱의 변형을 더욱 최적화한다. ( 즉, 필요할 때 다운로드를 하는 것이다.)
  - 사용자가 앱을 다운로드할 때 앱 번들의 크기가 작아서 다운로드 속도가 빠르다.
  - 인앱 구매 리소스의 원격저장이 가능하다. 즉 인앱 구매 리소스를 구매할 경우 앱이 실행된 이후에 리소스를 요청한다.

​        :fire:예를 들어 인앱 구매 리소스를 앱을 다운로드할 때부터 앱이 가지고 있다 

​        데이터적 손실이 발생한다.
